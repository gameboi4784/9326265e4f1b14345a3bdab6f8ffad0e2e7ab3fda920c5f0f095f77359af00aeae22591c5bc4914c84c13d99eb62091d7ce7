<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>.shortpie.'s DELTARUNE web port!</title>
    <base href="https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/">
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/drweb/style.css" />
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/drweb/fav.ico" />
  </head>
  <body>
    <div class="container">
      <h2>welcome to</h2>
      <h1 class="shortpie">&nbsp;.shortpie.'s</h1>
      <br>
      <br>
      <img style="width: 85%;" src="drweb/deltarune_logo.png" alt="DELTARUNE" class="logo" />
      <h1 style="display: block; margin:0;">web port!</h1>
      <img id="dog" class="toby" src="https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/utweb/toby/10thdog.png" alt="toby">
      <img class="toby10th" src="https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/utweb/toby/10thanniv.png" alt="toby">
      <audio id="audio-player" preload="auto"></audio>
      <script>
        const dogElement = document.getElementById('dog');
        const audioPlayer = document.getElementById('audio-player');
        dogElement.addEventListener('mouseenter', () => {
          dogElement.src = 'https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/utweb/toby/10thdogmouth.png';
        });
        dogElement.addEventListener('mouseleave', () => {
          dogElement.src = 'https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/utweb/toby/10thdog.png';
        });
        dogElement.addEventListener('click', () => {
          audioPlayer.src = 'https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/utweb/toby/6.mp3';
          audioPlayer.play();
        });
      </script>
      <div class="button-group">
          <div id="chapterButtons" class="chapter-buttons">
            <button id="bossrush" class="chapter-button-3">
              <span class="button-label">BOSS RUSH!</span>
            </button>
            <button id="play" class="chapter-button-1">
              <span class="button-label">START</span>
            </button>
            <button id="ostPlayerButton" class="chapter-button-2">
              <span class="button-label">OST PLAYER</span>
            </button>
          </div>
        <div id="chapterButtons" class="othersite-button">
          <button id="utweb" class="chapter-button-4">
            <span class="button-label">UNDERTALEWeb</span>
          </button>
        </div>
      </div>
      <div class="notes">
        <h2 class="notes-title">— UPDATE NOTES —</h2>
        <h4>version 6.0 LTS</h4>
        <ul style="font-family: '8BitOperator', sans-serif; font-size: 90%">
          <li class="update">The base DELTARUNE version has been updated to use the very recent v1.05 beta! (The Mike room bug has also been fixed in Chapter 4 of this version.)</li>
          <li class="update">Fixed some bugs in the OST player, as well as added songs from the DELTARUNE Piano Collections (Vol. 1) album!</li>
          <li class="update">The game itself now looks better than before (thanks to the UT 10th Anniv. team for that!) using an updated canvas.</li>
          <li class="update">The BOSS RUSH mode has now been updated to the newest version of the mod! This may fix some bugs and/or issues.</li>
          <li class="update">An archive of many older DELTARUNEWeb versions are now available at <a href="https://archive.deltarune.win" style="color: #007bff;">archive.deltarune.win</a>!</li>
          <li class="update">A brand-new mod loader is now available at <a href="https://deltarune.win" style="color: #007bff;">the main DRWeb homepage</a>!</li>
        </ul>
        <p style="color: #000;">
          <a id="old" style="color: #007BFF;">Click here</a> to view older releases of DELTARUNEWeb!
        </p>
      </div>
      <h5 id="discord-link" style="font-size: 35px; margin-bottom: 14px; margin-top: 32px;">
          <br><a href="https://discord.gg/4nry3kY6Js" style="color: #5865F2;">The Discord server</a> is back and better than ever! Join for development updates and other projects!
      </h5>
      <iframe id="discord-widget" src="https://discord.com/widget?id=1417899899390791816&theme=dark" width="350" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
      <footer class="disclaimer">
          <p>
            <strong style="font-size: 20px; color: #667;">DISCLAIMER:</strong>
            <br> This is a fan-made project for educational and archival purposes. All rights to <em>DELTARUNE</em>, including Chapters 1–4, are owned by Toby Fox, the DELTARUNE Team, 8-4 and any associated partners. <br> I do not claim ownership of any copyrighted material and do not profit from this project. <br> If you are the copyright holder and would like to discuss the topic of the content on this website, please contact me by emailing me at snappyshortpie@gmail.com or .shortpie. on Discord and I will respond as soon as possible. <br>
            <br> Please support the official release at <a href="https://deltarune.com" target="_blank">deltarune.com</a> whenever you have a chance!
          </p>
      </footer>
      <p>
        <strong style="font-size: 20px; color: #557;">base homepage made by </strong>
        <a href="https://github.com/aukak" style="font-size: 20px; color: #007bff; text-decoration: underline;">bog</a>
      </p>
      <div id="gameFrame" class="game-frame hidden"></div>
      <script>
          async function loadthingy(url) {
            try {
                const res = await fetch(`${url}?t=${Date.now()}`);
                const html = await res.text();
                const newTab = window.open('about:blank');
                newTab.document.open();
                newTab.document.write(html);
                newTab.document.close();
                newTab.focus();
                window.close();
            } catch (error) {
              console.error('Error loading page:', error);
            }
          }
          
          async function loadplay(url) {
              try {
                  const res = await fetch(`${url}?t=${Date.now()}`);
                  const html = await res.text();
                  const newTab = window.open('about:blank');
                  if (!newTab) {
                      console.error("Popup blocked — user gesture not recognized");
                      return;
                  }
                  newTab.document.open();
                  newTab.document.write(html);
                  newTab.document.close();
                  newTab.focus();
                  window.close();
              } catch (error) {
                  console.error('Error loading page:', error);
              }
          }

          document.getElementById('play').addEventListener('click', async () => {
              const requiredKey = "deltaverif";
              const requiredValue = "fea2fb654f17156a8393d060f5b8a2d3833fdf96325b698da7596c76a2d041e9";

              const storedValue = localStorage.getItem(requiredKey);

              if (storedValue !== requiredValue) {
                  await loadplay("https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/drweb/verif.html");
              } else {
                  await loadplay("https://cdn.jsdelivr.net/gh/gameboi4784/9326265e4f1b14345a3bdab6f8ffad0e2e7ab3fda920c5f0f095f77359af00aeae22591c5bc4914c84c13d99eb62091d7ce7@main/drweb/play/index.html");
              }
          });
          
          const base = document.querySelector('base')?.href || window.location.origin;
          document.getElementById('bossrush').addEventListener('click', () =>
            loadthingy(`https://padlet-uploads-usc1.storage.googleapis.com/4422927521/eb7443423fedf7dde51e5a866934220a/bossrush.html`)
          );
          document.getElementById('ostPlayerButton').addEventListener('click', () =>
            loadthingy(`${base}drweb/music/index.html`)
          );
          document.getElementById('utweb').addEventListener('click', () =>
            loadthingy(`${base}utweb/index.html`)
          );
          document.getElementById('old').addEventListener('click', () =>
            loadthingy(`${base}drweb/old/index.html`)
          );
          </script>
  </body>
</html>

<!-- DELTARUNEWeb v6 LTS -->
<!-- made with ❤️ by .shortpie. -->
<!-- credits to Toby Fox for making DELTARUNE, we love you! -->
